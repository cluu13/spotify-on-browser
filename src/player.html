<!DOCTYPE html>
<html lang="en" ng-app="musicPlayer">
	<head>
		<meta charset="UTF-8" />
		<title>Spotify on Chrome</title>
    </head>
    
    <body>
        <div ng-controller="musicPlayerCtrl">
            <div class="toolbar navbar-fixed-top">
                <a href="" title="Open Spotify" ng-click="openTrackLink()">
                    <img src="images/Spotify_Logo.png" alt="Spotify"></img>
                </a>
                
                <a class="pull-right" href="" title="Go to settings" ng-click="openOptions()">
                    <i class='fa fa-cog' aria-hidden='true'></i>
                </a>
            </div>

            <div class="player-context">
                <div class="text-center preliminary">
                    <img ng-src="{{albumImage.url}}" class="active" ng-if="albumImage">
                    <a href="" ng-if="!isSpotifyReady" ng-click="toggleAction()">
                        Authorize Spotify on Chrome
                    </a>
                    <a href="" ng-if="!spotifyState.current_track && isSpotifyReady" ng-click="toggleAction()">
                        Choose music on Spotify
                    </a>
                    <div ng-if="spotifyState.current_track" class="track-wrapper">
                        <p class="track-name">{{spotifyState.current_track.name}}</p>
                        <p class="artist-name ellipsis">{{artistName}}</p>

                        <div class="button saved-track" ng-hide="spotifyState.current_track.saved == undefined"
                            ng-disabled="savingTrack"
                            ng-click="toggleSavedTrack()">
                            <i class="fa" ng-class="{'fa-heart': spotifyState.current_track.saved, 'fa-heart-o': !spotifyState.current_track.saved}"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="player-content">
                <div id="album-art">
                    <img ng-src="{{albumImage.url}}" ng-class="{'active': playing}" ng-if="albumImage">
                </div>
                <div id="player-controls">
                    <div class="control">
                        <div class="button" ng-disabled="!canSeekPrev"
                            ng-click="toggleAction('previousTrack')">
                            <i class="fa fa-step-backward"></i>
                        </div>
                    </div>
                    <div class="control">
                        <div class="button" 
                            ng-disabled="!canPause"
                            ng-if="playing"
                            ng-click="toggleAction('togglePlay')">
                            <i class="fa fa-pause"></i>
                        </div>
                        <div class="button" 
                            ng-if="!playing"
                            ng-click="toggleAction('togglePlay')">
                            <i class="fa fa-play"></i>
                        </div>
                    </div>
                    <div class="control">
                        <div class="button" ng-disabled="!canSeekNext"
                            ng-click="toggleAction('nextTrack')">
                            <i class="fa fa-step-forward"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
